<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>US Signal | On-Call Schedule</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="./ussignal.jpg" type="image/jpeg" />
  <link rel="stylesheet" href="style.css" />

  <!-- =========================
       PUBLIC UI ENHANCEMENTS
  ========================= -->
  <style>
    /* ===== PAY REQUEST BUTTON ===== */
    .pay-request-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      border-radius: 999px;
      background: linear-gradient(135deg, #1e40af, #2563eb);
      color: #ffffff;
      font-weight: 600;
      font-size: 13px;
      text-decoration: none;
      box-shadow: 0 1px 2px rgba(0,0,0,.15);
      white-space: nowrap;
    }
    .pay-request-btn:hover {
      background: linear-gradient(135deg, #1e3a8a, #1d4ed8);
    }
    .pay-request-btn:focus-visible {
      outline: 3px solid #93c5fd;
      outline-offset: 2px;
    }

    /* ===== PUBLIC TABS ===== */
    .tabs {
      display: flex;
      gap: 6px;
      padding: 10px;
      background: var(--card);
      border-radius: 12px;
      margin-bottom: 16px;
      overflow-x: auto;
    }
    .tabs button {
      flex: 1;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 600;
      background: transparent;
      border: none;
      cursor: pointer;
    }
    .tabs button.active {
      background: var(--accent);
      color: #fff;
    }

    /* ===== MOBILE OPTIMIZATION ===== */
    @media (max-width: 768px) {
      .controls {
        flex-wrap: wrap;
        gap: 8px;
      }
      .pay-request-btn {
        width: 100%;
        justify-content: center;
      }
    }

    /* ===== LIVE CARD ===== */
    .live-card {
      border-left: 6px solid #0ea5e9;
      background: linear-gradient(90deg, rgba(14,165,233,.08), transparent);
      padding: 14px;
      border-radius: 12px;
      margin-bottom: 16px;
    }

    .subtle {
      color: var(--muted);
      font-size: 13px;
    }
  </style>
</head>

<body class="light">

<header class="topbar">
  <div class="brand">
    <img src="ussignal.jpg" alt="US Signal" class="logo" />
    <div>
      <div class="brand-title">US Signal</div>
      <div class="brand-sub">On-Call Schedule (Public)</div>
    </div>
  </div>

  <div class="controls">
    <button
      id="themeToggle"
      class="ghost"
      aria-label="Toggle light or dark mode"
    >
      ðŸŒ™
    </button>

    <select
      id="deptFilter"
      aria-label="Filter by department"
    >
      <option value="all">All Departments</option>
      <option value="enterprise_network">Enterprise Network</option>
      <option value="collaboration">Collaboration</option>
      <option value="system_storage">System & Storage</option>
    </select>

    <a
      href="https://forms.microsoft.com/Pages/ResponsePage.aspx?id=2kFZU3Lai0qDeJg6VL7DQmcodVUCw2tHgn0S1PzMbxpUQ0NXTlQ5TEtERzE0RzNHN0tNMjJNWThWRS4u"
      target="_blank"
      rel="noopener"
      class="pay-request-btn"
      aria-label="Submit US Signal On-Call Pay Request"
    >
      ðŸ’¼ On-Call Pay Request
    </a>
  </div>
</header>

<!-- =========================
     PUBLIC TABS
========================= -->
<nav class="tabs" role="tablist">
  <button
    class="active"
    data-tab="currentTab"
    role="tab"
    aria-selected="true"
  >
    Whoâ€™s On Call Now
  </button>
  <button
    data-tab="scheduleTab"
    role="tab"
    aria-selected="false"
  >
    Schedule
  </button>
  <button
    data-tab="timelineTab"
    role="tab"
    aria-selected="false"
  >
    Timeline
  </button>
</nav>

<main class="container">

  <!-- WHO'S ON CALL NOW -->
  <section
    id="currentTab"
    class="panel active"
    role="tabpanel"
  >
    <div class="panel-head">
      <h2>Whoâ€™s On Call Now</h2>
      <div class="subtle">Live Â· Read-only Â· Auto-updated</div>
    </div>

    <div
      id="currentOnCall"
      class="live-card"
      aria-live="polite"
      aria-atomic="true"
    ></div>
  </section>

  <!-- SCHEDULE -->
  <section
    id="scheduleTab"
    class="panel"
    role="tabpanel"
  >
    <h2>On-Call Schedule</h2>
    <div id="schedule"></div>
  </section>

  <!-- TIMELINE -->
  <section
    id="timelineTab"
    class="panel"
    role="tabpanel"
  >
    <h2>Weekly Timeline</h2>
    <div id="timeline"></div>
  </section>

</main>

<div
  id="toast"
  class="toast hidden"
  role="status"
  aria-live="polite"
></div>

<script type="module" src="app.js"></script>

<script>
  // PUBLIC MODE â€” no admin, no auth, no notify, no edits
  window.addEventListener("DOMContentLoaded", () => {
    initApp({
      admin: false,
      public: true
    });
  });
</script>

</body>
</html>
