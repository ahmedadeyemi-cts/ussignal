<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>US Signal | On-Call Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ✅ Favicon (fixes 404) -->
  <link rel="icon" href="./ussignal.jpg" type="image/jpeg" />

  <link rel="stylesheet" href="style.css" />
</head>
<body class="light">

<header class="topbar">
  <div class="brand">
    <img src="ussignal.jpg" alt="US Signal" class="logo" />
    <div>
      <div class="brand-title">US Signal</div>
      <div class="brand-sub">On-Call Administration</div>
    </div>
  </div>

  <div class="controls">
    <select id="deptFilter">
      <option value="all">All Departments</option>
      <option value="enterprise_network">Enterprise Network</option>
      <option value="collaboration">Collaboration</option>
      <option value="system_storage">System & Storage</option>
    </select>

    <button id="saveAllBtn" class="primary">Save</button>
    <button id="revertBtn" class="ghost">Revert</button>
    <button id="notifyBtn" class="ghost">Notify</button>
    <button id="exportBtn" class="ghost">Export Excel</button>
    <button id="icsBtn" class="ghost">ICS</button>
  </div>
</header>

<nav class="tabs">
  <button class="tab active" data-tab="scheduleTab">Schedule</button>
  <button class="tab" data-tab="timelineTab">Timeline</button>
  <button class="tab" data-tab="rosterTab">Roster</button>
  <button class="tab" data-tab="autogenTab">Auto-Generate</button>
  <button class="tab" data-tab="auditTab">Audit</button>
</nav>

<main class="container">

  <section id="scheduleTab" class="panel active">
    <div id="schedule"></div>
  </section>

  <section id="timelineTab" class="panel">
    <h2>Weekly Timeline</h2>
    <div id="timeline"></div>
  </section>

  <section id="rosterTab" class="panel">
    <div class="panel-head">
      <h2>Roster Management</h2>
      <div>
        <button id="rosterAddUserBtn" class="primary">Add User</button>
        <button id="rosterSaveBtn" class="ghost">Save</button>
        <button id="rosterReloadBtn" class="ghost">Reload</button>
      </div>
    </div>
    <div id="roster"></div>
  </section>

  <section id="autogenTab" class="panel">
    <h2>Auto-Generate Schedule</h2>
    <div class="form-row">
      <label>Start</label>
      <input type="date" id="autogenStart" />
      <label>End</label>
      <input type="date" id="autogenEnd" />
      <label>Seed</label>
      <input type="number" id="autogenSeed" value="0" />
      <button id="runAutogenBtn" class="primary">Run</button>
    </div>
  </section>

  <section id="auditTab" class="panel">
    <div class="panel-head">
      <h2>Audit Log</h2>
      <button id="auditRefreshBtn" class="ghost">Refresh</button>
    </div>
    <div id="audit"></div>
  </section>

</main>

<!-- Modal -->
<div id="modal" class="modal hidden">
  <div class="modal-card">
    <div class="modal-head">
      <h3 id="modalTitle"></h3>
      <button id="modalClose">✕</button>
    </div>
    <div id="modalBody" class="modal-body"></div>
    <div class="modal-actions">
      <button id="modalCancel" class="ghost">Cancel</button>
      <button id="modalOk" class="primary">OK</button>
    </div>
  </div>
</div>

<div id="toast" class="toast hidden"></div>

<script type="module" src="/app.js"></script>
<script>
  initApp({
    admin: true,
    role: "admin",
    email: "admin@ussignal.com",
    departments: [
      "enterprise_network",
      "collaboration",
      "system_storage"
    ]
  });
</script>

</body>
</html>
